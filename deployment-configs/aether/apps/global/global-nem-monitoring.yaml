kpi_exporter:
  enabled: false

prometheus:
  alertmanager:
    enabled: false
  kubeStateMetrics:
    enabled: false
  nodeExporter:
    enabled: false
  pushgateway:
    enabled: false
  server:
    enabled: true
    fullnameOverride: "nem-monitoring-prometheus-server"
    extraArgs:
      web.route-prefix: "/prometheus"
      web.external-url: "https://aether.onlab.us/prometheus"
    prefixURL: "/prometheus"
    ingress:
      enabled: true
      hosts:
        - aether.onlab.us/prometheus
  serverFiles:
    prometheus.yml:
      scrape_configs:
        - job_name: prometheus-aggregator
          scrape_interval: 15s
          honor_labels: true
          metrics_path: /federate
          params:
            match[]:
              - '{job="kubernetes-nodes-cadvisor"}'
              - '{job="kubernetes-service-endpoints"}'
          static_configs:
            - targets:
              - nem-monitoring-prometheus-server.nem-monitoring-p-74nmx.svc.product.central:80
              - nem-monitoring-prometheus-server.nem-monitoring-p-whlwm.svc.azure.central:80
              - nem-monitoring-prometheus-server.nem-monitoring-p-9ljjp.svc.menlo.edge:80
              - nem-monitoring-prometheus-server.nem-monitoring-p-7jkzz.svc.intel.edge:80
              - nem-monitoring-prometheus-server.nem-monitoring-p-h27t2.svc.tucson.edge:80
              - nem-monitoring-prometheus-server.nem-monitoring-p-5lgn2.svc.ntt.edge:80
        - job_name: 'mme-exporter-production'
          metrics_path: /metrics
          scrape_interval: 15s
          static_configs:
            - targets:
                - mme.omec.svc.product.central:3081
        - job_name: 'mme-exporter-azure'
          metrics_path: /metrics
          scrape_interval: 15s
          static_configs:
            - targets:
                - mme.omec.svc.azure.central:3081
  extraScrapeConfigs: ""

grafana:
  fullnameOverride: "nem-monitoring-grafana"
  ingress:
    enabled: true
    hosts:
      - aether.onlab.us
    path: "/grafana"
  grafana.ini:
    server:
      domain: aether.onlab.us
      root_url: https://aether.onlab.us/grafana
      serve_from_sub_path: true
    paths:
      data: /var/lib/grafana/data
      logs: /var/log/grafana
      plugins: /var/lib/grafana/plugins
      provisioning: /etc/grafana/provisioning
    analytics:
      check_for_updates: true
    log:
      mode: console
    grafana_net:
      url: https://grafana.net
  datasources:
    datasources.yaml:
      apiVersion: 1
      datasources:
        - name: Prometheus
          type: prometheus
          url: http://nem-monitoring-prometheus-server/prometheus
          access: proxy
          isDefault: true

dashboards:
  k8s: false
  nodeExporter: false
  xos: true
  onos: false
  aaa: false
  voltha: false
  omec: false
  aether: true
